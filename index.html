<!--
Archivo: album.html
Descripción: Álbum/galería de fotos responsive con HTML, CSS y JavaScript.
Modo: Plan A — imágenes definidas en el código (carpeta /img/)
Cómo usar:
 1. Guarda este archivo como album.html en Visual Studio Code.
 2. Crea una carpeta `img/` junto al archivo y añade las imágenes `foto1.jpg` ... `foto31.jpg`.
 3. Abre en el navegador (doble clic) o usa la extensión Live Server.

Características:
 - Grid responsive de miniaturas
 - Lightbox modal con navegación (flechas y teclado)
 - Las imágenes son fijas desde el código (persisten en el hosting)
 - Botón limpiar y descarga individual de imágenes
-->

<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Álbum de Fotos - Pareja</title>
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --accent:#06b6d4; --muted:#94a3b8;
      --gap:12px; --radius:12px; --max-width:1100px;
    }
    *{box-sizing:border-box}
    body{margin:0; font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:linear-gradient(180deg,var(--bg), #071022); color:#e6eef6; display:flex; justify-content:center; padding:28px}
    .container{width:100%; max-width:var(--max-width)}
    header{display:flex; gap:12px; align-items:center; justify-content:space-between; margin-bottom:18px}
    h1{font-size:20px; margin:0}
    .controls{display:flex; gap:8px; align-items:center}
    .btn{background:var(--card); border:1px solid rgba(255,255,255,0.04); padding:8px 12px; border-radius:10px; cursor:pointer; font-weight:600}
    .btn.primary{background:linear-gradient(90deg,var(--accent), #7dd3fc); color:#05263a}

    .gallery{display:grid; grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); gap:var(--gap)}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:10px; overflow:hidden; position:relative; aspect-ratio:4/3}
    .card img{width:100%; height:100%; object-fit:cover; display:block; transition:transform .35s ease}
    .card:hover img{transform:scale(1.05)}
    .card .meta{position:absolute; left:8px; bottom:8px; background:rgba(0,0,0,0.35); padding:6px 8px; border-radius:8px; font-size:12px; color:var(--muted)}

    /* Lightbox */
    .lightbox{position:fixed; inset:0; display:none; align-items:center; justify-content:center; backdrop-filter:blur(6px); background:rgba(2,6,23,0.6); z-index:60}
    .lightbox.open{display:flex}
    .lb-inner{max-width:92vw; max-height:92vh; width:min(1100px,92vw); background:transparent; position:relative; display:flex; align-items:center; justify-content:center}
    .lb-img{max-width:100%; max-height:100%; box-shadow:0 10px 30px rgb(0, 0, 0); border-radius:10px}
    .lb-close{position:absolute; top:-10px; right:-10px; background:var(--card); border-radius:999px; padding:8px; cursor:pointer}
    .nav-btn{position:absolute; top:50%; transform:translateY(-50%); background:transparent; border:none; font-size:28px; cursor:pointer; padding:18px; color:#e6eef6}
    .nav-btn.left{left:-10px}
    .nav-btn.right{right:-10px}

    footer{margin-top:14px; text-align:center; color:var(--muted); font-size:13px}
    @media (max-width:560px){h1{font-size:16px} .nav-btn{font-size:22px; padding:12px}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Álbum - Pareja</h1>
      <div class="controls">
        <button id="clearBtn" class="btn">Limpiar</button>
        <button id="downloadAll" class="btn primary">Descargar imágenes</button>
      </div>
    </header>

    <main>
      <section id="gallery" class="gallery" aria-live="polite"></section>
    </main>

    <footer>Tip: haz clic en cualquier imagen para verla en grande. Usa ← → o las flechas para navegar.</footer>
  </div>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox" role="dialog" aria-hidden="true">
    <div class="lb-inner">
      <button class="nav-btn left" id="prevBtn" aria-label="Anterior">❮</button>
      <img id="lbImg" class="lb-img" src="" alt="Imagen ampliada" />
      <button class="nav-btn right" id="nextBtn" aria-label="Siguiente">❯</button>
      <button id="closeLb" class="lb-close" aria-label="Cerrar">✕</button>
    </div>
  </div>

  <script>
    // -----------------------
    // Configuración (Plan A)
    // -----------------------
    const images = [
      // Apartado: Pareja (31 imágenes enumeradas)
      { src: "foto1.jpg", name: "Pareja 1" },
      { src: "foto2.jpg", name: "Pareja 2" },
      { src: "foto3.jpg", name: "Pareja 3" },
      { src: "foto4.jpg", name: "Pareja 4" },
      { src: "foto5.jpg", name: "Pareja 5" },
      { src: "foto6.jpg", name: "Pareja 6" },
      { src: "foto8.jpg", name: "Pareja 7" },
      { src: "foto8.jpg", name: "Pareja 8" },
      { src: "foto9.jpg", name: "Pareja 9" },
      { src: "foto10.jpg", name: "Pareja 10" },
      { src: "foto11.jpg", name: "Pareja 11" },
      { src: "foto12.jpg", name: "Pareja 12" },
      { src: "foto13.jpg", name: "Pareja 13" },
      { src: "foto14.jpg", name: "Pareja 14" },
      { src: "foto15.jpg", name: "Pareja 15" },
      { src: "foto16.jpg", name: "Pareja 16" },
      { src: "foto17.jpg", name: "Pareja 17" },
      { src: "foto18.jpg", name: "Pareja 18" },
      { src: "foto19.jpg", name: "Pareja 19" },
      { src: "foto20.jpg", name: "Pareja 20" },
      { src: "foto21.jpg", name: "Pareja 21" },
      { src: "foto22.jpg", name: "Pareja 22" },
      { src: "foto23.jpg", name: "Pareja 23" },
      { src: "foto24.jpg", name: "Pareja 24" },
      { src: "foto25.jpg", name: "Pareja 25" },
      { src: "foto26.jpg", name: "Pareja 26" },
      { src: "foto27.jpg", name: "Pareja 27" },
      { src: "foto28.jpg", name: "Pareja 28" },
      { src: "foto29.jpg", name: "Pareja 29" },
      { src: "foto30.jpg", name: "Pareja 30" },
      { src: "foto31.jpg", name: "Pareja 31" },
    ];

    // Elementos del DOM
    const gallery = document.getElementById('gallery');
    const lightbox = document.getElementById('lightbox');
    const lbImg = document.getElementById('lbImg');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const closeLb = document.getElementById('closeLb');
    const clearBtn = document.getElementById('clearBtn');
    const downloadAll = document.getElementById('downloadAll');

    let currentIndex = -1;

    // Renderizar miniaturas
    function renderGallery(){
      gallery.innerHTML = '';
      images.forEach((img, idx) => {
        const card = document.createElement('div'); card.className = 'card';
        const image = document.createElement('img'); image.src = img.src; image.alt = img.name || `Foto ${idx+1}`;
        const meta = document.createElement('div'); meta.className = 'meta'; meta.textContent = img.name || `${idx+1}`;
        card.appendChild(image); card.appendChild(meta);
        card.addEventListener('click', () => openLightbox(idx));
        gallery.appendChild(card);
      });
    }

    // Abrir lightbox
    function openLightbox(index){
      if(index < 0 || index >= images.length) return;
      currentIndex = index; showLightbox();
    }

    function showLightbox(){
      if(currentIndex < 0 || currentIndex >= images.length) return;
      lbImg.src = images[currentIndex].src;
      lbImg.alt = images[currentIndex].name || `Foto ${currentIndex+1}`;
      lightbox.classList.add('open');
      lightbox.setAttribute('aria-hidden','false');
    }

    function closeLightbox(){
      lightbox.classList.remove('open');
      lightbox.setAttribute('aria-hidden','true');
      lbImg.src = '';
      currentIndex = -1;
    }

    // Navegación
    prevBtn.addEventListener('click', ()=>{ if(images.length) { currentIndex = (currentIndex-1+images.length)%images.length; showLightbox(); } });
    nextBtn.addEventListener('click', ()=>{ if(images.length) { currentIndex = (currentIndex+1)%images.length; showLightbox(); } });
    closeLb.addEventListener('click', closeLightbox);
    lightbox.addEventListener('click', e => { if(e.target === lightbox) closeLightbox(); });

    // Teclado
    document.addEventListener('keydown', e => {
      if(lightbox.classList.contains('open')){
        if(e.key === 'ArrowLeft') prevBtn.click();
        if(e.key === 'ArrowRight') nextBtn.click();
        if(e.key === 'Escape') closeLb.click();
      }
    });

    // Limpiar galería (no borra archivos, solo borra la lista en memoria)
    clearBtn.addEventListener('click', ()=>{
      if(confirm('¿Eliminar todas las imágenes del álbum (sólo en esta copia)?')){
        images.length = 0; renderGallery(); closeLightbox();
      }
    });

    // Descargar todas las imágenes individualmente
    downloadAll.addEventListener('click', ()=>{
      if(images.length === 0){ alert('No hay imágenes para descargar.'); return; }
      images.forEach((img, idx)=>{
        const a = document.createElement('a');
        a.href = img.src;
        a.download = img.name || `foto-${idx+1}.jpg`;
        document.body.appendChild(a);
        a.click();
        a.remove();
      });
    });

    // Render inicial
    renderGallery();

  </script>
</body>
</html>
